{"ast":null,"code":"var _jsxFileName = \"/Users/giorgio/WebstormProjects/Express-React/client/src/AppMainContent.js\";\nimport React from \"react\";\nimport MenuItem from './MenuItem';\nimport OrderBar from './OrderBar';\nimport socketIOClient from 'socket.io-client';\nconst ServerIP = \"http://192.168.43.137:9000/\";\nexport default class AppMainContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mode: \"login\",\n      restaurant: \"\",\n      table: 0,\n      user: \"\",\n      items: [],\n      orders: new Array(100),\n      completeOrders: new Array(100),\n      orderByUser: new Array(100),\n      nConnectedUser: 0,\n      socket: null\n    };\n    this.state.orders.fill(0);\n    this.sendOrder = this.sendOrder.bind(this);\n    this.login = this.login.bind(this);\n    this.setUserName = this.setUserName.bind(this);\n    this.setRestaurant = this.setRestaurant.bind(this);\n    this.setTable = this.setTable.bind(this);\n    this.tryLogin = this.tryLogin.bind(this);\n  }\n\n  componentDidMount() {\n    fetch(ServerIP + \"menu\").then(res => res.json()).then(res => this.setState({\n      items: res\n    })); //console.log(JSON.stringify(this.state.items));\n\n    this.setState({\n      socket: io(ServerIP)\n    });\n\n    if (this.state.socket !== null) {\n      console.log(this.state.nConnectedUser);\n      this.state.socket.emit('user connection');\n    }\n  }\n\n  updateOrder(itemCode, sign) {\n    let ordersUpdate = this.state.orders;\n    if (ordersUpdate[itemCode] + sign >= 0) ordersUpdate[itemCode] = ordersUpdate[itemCode] + sign;\n    this.setState({\n      orders: ordersUpdate\n    });\n  }\n\n  sendOrder() {\n    let order = {\n      user: this.state.user,\n      table: this.state.table,\n      items: this.state.orders\n    };\n    fetch(ServerIP + \"order\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(order)\n    }).then(res => res.json()).then(res => {\n      this.setState({\n        completeOrders: res.complete,\n        orderByUser: res.byUser\n      });\n      console.log(res);\n    });\n  }\n\n  setUserName(e) {\n    this.setState({\n      user: e.target.value\n    });\n  }\n\n  setTable(e) {\n    this.setState({\n      table: e.target.value\n    });\n  }\n\n  setRestaurant(e) {\n    this.setState({\n      restaurant: e.target.value\n    });\n  }\n\n  tryLogin(e) {\n    if (e.keyCode === 13) {\n      this.login();\n    }\n  }\n\n  login() {\n    //TODO: Fetch server and retrieve previous order of the user if any are present SOLVED\n    fetch(ServerIP + \"order/userMenu/\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user: this.state.user,\n        table: this.state.table\n      })\n    }).then(res => res.json()).then(res => this.setState({\n      orders: res\n    }));\n    this.setState({\n      mode: \"menu\"\n    });\n  }\n\n  forceUpdate(callBack) {}\n\n  render() {\n    if (this.state.socket !== null) {\n      this.state.socket.on('user connection', usr => this.setState({\n        nConnectedUser: usr\n      }));\n      console.log(this.state.nConnectedUser);\n    }\n\n    let myOrder = this.state.orders.map((item, idx) => {\n      return [item, idx];\n    }).filter(item => {\n      return item[0] > 0;\n    });\n    let completeOrder = this.state.completeOrders.map((item, idx) => {\n      return [item, idx];\n    }).filter(item => {\n      return item[0] > 0;\n    });\n\n    if (this.state.mode === \"menu\") {\n      return React.createElement(\"div\", {\n        className: \"AppMainContent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"Send\",\n        onClick: this.sendOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"OK\"), this.state.items.map((item, idx) => {\n        return React.createElement(MenuItem, {\n          name: item.name,\n          ingredients: item.ingredients.concat(),\n          count: item.count,\n          img: item.img,\n          code: item.code,\n          order: this.updateOrder.bind(this),\n          selected: this.state.orders[idx + 1],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        });\n      }), React.createElement(OrderBar, {\n        selectedItems: myOrder,\n        menu: this.state.items,\n        complete: completeOrder,\n        byUser: this.state.orderByUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }));\n    } else if (this.state.mode === \"login\") {\n      return React.createElement(\"div\", {\n        className: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"LoginInput\",\n        id: \"restaurant\",\n        type: \"text\",\n        placeholder: \"Ristorante\",\n        onChange: this.setRestaurant,\n        onKeyDown: this.tryLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"LoginInput\",\n        id: \"table\",\n        type: \"text\",\n        placeholder: \"Tavolo\",\n        onChange: this.setTable,\n        onKeyDown: this.tryLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"LoginInput\",\n        id: \"name\",\n        type: \"text\",\n        placeholder: \"Nome\",\n        onChange: this.setUserName,\n        onKeyDown: this.tryLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"loginButton\",\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"OK\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, this.state.nConnectedUser));\n    }\n  }\n\n}","map":{"version":3,"sources":["/Users/giorgio/WebstormProjects/Express-React/client/src/AppMainContent.js"],"names":["React","MenuItem","OrderBar","socketIOClient","ServerIP","AppMainContent","Component","constructor","props","state","mode","restaurant","table","user","items","orders","Array","completeOrders","orderByUser","nConnectedUser","socket","fill","sendOrder","bind","login","setUserName","setRestaurant","setTable","tryLogin","componentDidMount","fetch","then","res","json","setState","io","console","log","emit","updateOrder","itemCode","sign","ordersUpdate","order","method","headers","body","JSON","stringify","complete","byUser","e","target","value","keyCode","forceUpdate","callBack","render","on","usr","myOrder","map","item","idx","filter","completeOrder","name","ingredients","concat","count","img","code"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,MAAMC,QAAQ,GAAG,6BAAjB;AAEA,eAAe,MAAMC,cAAN,SAA6BL,KAAK,CAACM,SAAnC,CAA4C;AAEvDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,OADG;AAETC,MAAAA,UAAU,EAAE,EAFH;AAGTC,MAAAA,KAAK,EAAE,CAHE;AAITC,MAAAA,IAAI,EAAE,EAJG;AAKTC,MAAAA,KAAK,EAAE,EALE;AAMTC,MAAAA,MAAM,EAAE,IAAIC,KAAJ,CAAU,GAAV,CANC;AAOTC,MAAAA,cAAc,EAAE,IAAID,KAAJ,CAAU,GAAV,CAPP;AAQTE,MAAAA,WAAW,EAAE,IAAIF,KAAJ,CAAU,GAAV,CARJ;AASTG,MAAAA,cAAc,EAAE,CATP;AAUTC,MAAAA,MAAM,EAAE;AAVC,KAAb;AAYA,SAAKX,KAAL,CAAWM,MAAX,CAAkBM,IAAlB,CAAuB,CAAvB;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWD,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKE,WAAL,GAAmB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKG,aAAL,GAAqB,KAAKA,aAAL,CAAmBH,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKI,QAAL,GAAgB,KAAKA,QAAL,CAAcJ,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKK,QAAL,GAAgB,KAAKA,QAAL,CAAcL,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAEDM,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAAC1B,QAAQ,GAAC,MAAV,CAAL,CACK2B,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUC,GAAG,IAAI,KAAKE,QAAL,CAAc;AAAEpB,MAAAA,KAAK,EAAEkB;AAAT,KAAd,CAFjB,EADgB,CAIhB;;AACA,SAAKE,QAAL,CAAc;AACVd,MAAAA,MAAM,EAAEe,EAAE,CAAC/B,QAAD;AADA,KAAd;;AAGA,QAAG,KAAKK,KAAL,CAAWW,MAAX,KAAsB,IAAzB,EAA8B;AAC1BgB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK5B,KAAL,CAAWU,cAAvB;AACA,WAAKV,KAAL,CAAWW,MAAX,CAAkBkB,IAAlB,CAAuB,iBAAvB;AAEH;AAGJ;;AAEDC,EAAAA,WAAW,CAACC,QAAD,EAAWC,IAAX,EAAgB;AACvB,QAAIC,YAAY,GAAG,KAAKjC,KAAL,CAAWM,MAA9B;AACA,QAAG2B,YAAY,CAACF,QAAD,CAAZ,GAAyBC,IAAzB,IAA+B,CAAlC,EACIC,YAAY,CAACF,QAAD,CAAZ,GAAyBE,YAAY,CAACF,QAAD,CAAZ,GAAyBC,IAAlD;AACJ,SAAKP,QAAL,CAAc;AACVnB,MAAAA,MAAM,EAAE2B;AADE,KAAd;AAGH;;AAEDpB,EAAAA,SAAS,GAAE;AACP,QAAIqB,KAAK,GAAG;AACR9B,MAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWI,IADT;AAERD,MAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWG,KAFV;AAGRE,MAAAA,KAAK,EAAE,KAAKL,KAAL,CAAWM;AAHV,KAAZ;AAMAe,IAAAA,KAAK,CAAC1B,QAAQ,GAAC,OAAV,EAAmB;AACpBwC,MAAAA,MAAM,EAAE,MADY;AAEpBC,MAAAA,OAAO,EAAE;AACL,kBAAU,mCADL;AAEL,wBAAgB;AAFX,OAFW;AAMpBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,KAAf;AANc,KAAnB,CAAL,CAOGZ,IAPH,CAOQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPf,EAO2BF,IAP3B,CAOgCC,GAAG,IAAI;AACnC,WAAKE,QAAL,CAAc;AACVjB,QAAAA,cAAc,EAAEe,GAAG,CAACiB,QADV;AAEV/B,QAAAA,WAAW,EAAEc,GAAG,CAACkB;AAFP,OAAd;AAIAd,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACH,KAbD;AAeH;;AAEDP,EAAAA,WAAW,CAAC0B,CAAD,EAAG;AACV,SAAKjB,QAAL,CAAc;AACVrB,MAAAA,IAAI,EAAEsC,CAAC,CAACC,MAAF,CAASC;AADL,KAAd;AAGH;;AAED1B,EAAAA,QAAQ,CAACwB,CAAD,EAAG;AACP,SAAKjB,QAAL,CAAc;AACVtB,MAAAA,KAAK,EAAEuC,CAAC,CAACC,MAAF,CAASC;AADN,KAAd;AAGH;;AAED3B,EAAAA,aAAa,CAACyB,CAAD,EAAG;AACZ,SAAKjB,QAAL,CAAc;AACVvB,MAAAA,UAAU,EAAEwC,CAAC,CAACC,MAAF,CAASC;AADX,KAAd;AAGH;;AAEDzB,EAAAA,QAAQ,CAACuB,CAAD,EAAG;AACP,QAAGA,CAAC,CAACG,OAAF,KAAc,EAAjB,EAAoB;AAChB,WAAK9B,KAAL;AACH;AACJ;;AAEDA,EAAAA,KAAK,GAAE;AACH;AACAM,IAAAA,KAAK,CAAC1B,QAAQ,GAAC,iBAAV,EAA6B;AAC9BwC,MAAAA,MAAM,EAAE,MADsB;AAE9BC,MAAAA,OAAO,EAAE;AACL,kBAAU,mCADL;AAEL,wBAAgB;AAFX,OAFqB;AAM9BC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBnC,QAAAA,IAAI,EAAC,KAAKJ,KAAL,CAAWI,IADC;AAEjBD,QAAAA,KAAK,EAAC,KAAKH,KAAL,CAAWG;AAFA,OAAf;AANwB,KAA7B,CAAL,CAWKmB,IAXL,CAWUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAXjB,EAYKF,IAZL,CAYUC,GAAG,IAAI,KAAKE,QAAL,CAAc;AAAEnB,MAAAA,MAAM,EAAEiB;AAAV,KAAd,CAZjB;AAaA,SAAKE,QAAL,CAAc;AACVxB,MAAAA,IAAI,EAAE;AADI,KAAd;AAGH;;AAED6C,EAAAA,WAAW,CAACC,QAAD,EAAW,CACrB;;AAEDC,EAAAA,MAAM,GAAE;AACJ,QAAG,KAAKhD,KAAL,CAAWW,MAAX,KAAsB,IAAzB,EAA8B;AAC1B,WAAKX,KAAL,CAAWW,MAAX,CAAkBsC,EAAlB,CAAqB,iBAArB,EAAyCC,GAAD,IAAS,KAAKzB,QAAL,CAAc;AAC3Df,QAAAA,cAAc,EAAEwC;AAD2C,OAAd,CAAjD;AAGAvB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK5B,KAAL,CAAWU,cAAvB;AACH;;AACD,QAAIyC,OAAO,GAAG,KAAKnD,KAAL,CAAWM,MAAX,CAAkB8C,GAAlB,CAAsB,CAACC,IAAD,EAAOC,GAAP,KAAe;AAC/C,aAAO,CAACD,IAAD,EAAOC,GAAP,CAAP;AACH,KAFa,EAEXC,MAFW,CAEHF,IAAD,IAAU;AAChB,aAAOA,IAAI,CAAC,CAAD,CAAJ,GAAQ,CAAf;AACH,KAJa,CAAd;AAMA,QAAIG,aAAa,GAAG,KAAKxD,KAAL,CAAWQ,cAAX,CAA0B4C,GAA1B,CAA8B,CAACC,IAAD,EAAOC,GAAP,KAAe;AAC7D,aAAO,CAACD,IAAD,EAAOC,GAAP,CAAP;AACH,KAFmB,EAEjBC,MAFiB,CAETF,IAAD,IAAU;AAChB,aAAOA,IAAI,CAAC,CAAD,CAAJ,GAAQ,CAAf;AACH,KAJmB,CAApB;;AAKA,QAAG,KAAKrD,KAAL,CAAWC,IAAX,KAAoB,MAAvB,EAA8B;AAC1B,aACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAQ,QAAA,EAAE,EAAC,MAAX;AAAkB,QAAA,OAAO,EAAE,KAAKY,SAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAGK,KAAKb,KAAL,CAAWK,KAAX,CAAiB+C,GAAjB,CAAqB,CAACC,IAAD,EAAOC,GAAP,KAAe;AACjC,eAAO,oBAAC,QAAD;AAAU,UAAA,IAAI,EAAED,IAAI,CAACI,IAArB;AAA2B,UAAA,WAAW,EAAEJ,IAAI,CAACK,WAAL,CAAiBC,MAAjB,EAAxC;AAAmE,UAAA,KAAK,EAAEN,IAAI,CAACO,KAA/E;AAAsF,UAAA,GAAG,EAAEP,IAAI,CAACQ,GAAhG;AAAqG,UAAA,IAAI,EAAER,IAAI,CAACS,IAAhH;AAAsH,UAAA,KAAK,EAAE,KAAKhC,WAAL,CAAiBhB,IAAjB,CAAsB,IAAtB,CAA7H;AAA0J,UAAA,QAAQ,EAAE,KAAKd,KAAL,CAAWM,MAAX,CAAkBgD,GAAG,GAAC,CAAtB,CAApK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH,OAFA,CAHL,EAMI,oBAAC,QAAD;AAAU,QAAA,aAAa,EAAEH,OAAzB;AAAkC,QAAA,IAAI,EAAE,KAAKnD,KAAL,CAAWK,KAAnD;AAA0D,QAAA,QAAQ,EAAEmD,aAApE;AAAmF,QAAA,MAAM,EAAE,KAAKxD,KAAL,CAAWS,WAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANJ,CADJ;AAWH,KAZD,MAYM,IAAG,KAAKT,KAAL,CAAWC,IAAX,KAAoB,OAAvB,EAA+B;AACjC,aACI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,EAAE,EAAC,YAAjC;AAA8C,QAAA,IAAI,EAAC,MAAnD;AAA0D,QAAA,WAAW,EAAE,YAAvE;AAAqF,QAAA,QAAQ,EAAE,KAAKgB,aAApG;AAAmH,QAAA,SAAS,EAAE,KAAKE,QAAnI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,EAAE,EAAC,OAAjC;AAAyC,QAAA,IAAI,EAAC,MAA9C;AAAqD,QAAA,WAAW,EAAE,QAAlE;AAA4E,QAAA,QAAQ,EAAE,KAAKD,QAA3F;AAAqG,QAAA,SAAS,EAAE,KAAKC,QAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,EAAE,EAAC,MAAjC;AAAwC,QAAA,IAAI,EAAC,MAA7C;AAAoD,QAAA,WAAW,EAAE,MAAjE;AAAyE,QAAA,QAAQ,EAAE,KAAKH,WAAxF;AAAqG,QAAA,SAAS,EAAE,KAAKG,QAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII;AAAQ,QAAA,EAAE,EAAC,aAAX;AAAyB,QAAA,OAAO,EAAE,KAAKJ,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAM,KAAKf,KAAL,CAAWU,cAAjB,CALJ,CADJ;AAUH;AACJ;;AApKsD","sourcesContent":["import React from \"react\";\nimport MenuItem from './MenuItem'\nimport OrderBar from './OrderBar'\nimport socketIOClient from 'socket.io-client'\n\nconst ServerIP = \"http://192.168.43.137:9000/\"\n\nexport default class AppMainContent extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            mode: \"login\",\n            restaurant: \"\",\n            table: 0,\n            user: \"\",\n            items: [],\n            orders: new Array(100),\n            completeOrders: new Array(100),\n            orderByUser: new Array(100),\n            nConnectedUser: 0,\n            socket: null,\n        };\n        this.state.orders.fill(0);\n        this.sendOrder = this.sendOrder.bind(this);\n        this.login = this.login.bind(this);\n        this.setUserName = this.setUserName.bind(this);\n        this.setRestaurant = this.setRestaurant.bind(this);\n        this.setTable = this.setTable.bind(this);\n        this.tryLogin = this.tryLogin.bind(this);\n    }\n\n    componentDidMount() {\n        fetch(ServerIP+\"menu\")\n            .then(res => res.json())\n            .then(res => this.setState({ items: res }));\n        //console.log(JSON.stringify(this.state.items));\n        this.setState({\n            socket: io(ServerIP),\n        })\n        if(this.state.socket !== null){\n            console.log(this.state.nConnectedUser);\n            this.state.socket.emit('user connection');\n\n        }\n\n\n    }\n\n    updateOrder(itemCode, sign){\n        let ordersUpdate = this.state.orders;\n        if(ordersUpdate[itemCode] + sign>=0)\n            ordersUpdate[itemCode] = ordersUpdate[itemCode] + sign;\n        this.setState({\n            orders: ordersUpdate,\n        });\n    }\n\n    sendOrder(){\n        let order = {\n            user: this.state.user,\n            table: this.state.table,\n            items: this.state.orders,\n        };\n\n        fetch(ServerIP+\"order\", {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(order)\n        }).then(res => res.json()).then(res => {\n            this.setState({\n                completeOrders: res.complete,\n                orderByUser: res.byUser,\n            });\n            console.log(res);\n        });\n\n    }\n\n    setUserName(e){\n        this.setState({\n            user: e.target.value,\n        })\n    }\n\n    setTable(e){\n        this.setState({\n            table: e.target.value,\n        })\n    }\n\n    setRestaurant(e){\n        this.setState({\n            restaurant: e.target.value,\n        })\n    }\n\n    tryLogin(e){\n        if(e.keyCode === 13){\n            this.login()\n        }\n    }\n\n    login(){\n        //TODO: Fetch server and retrieve previous order of the user if any are present SOLVED\n        fetch(ServerIP+\"order/userMenu/\", {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json, text/plain, */*',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                user:this.state.user,\n                table:this.state.table,\n            }),\n        })\n            .then(res => res.json())\n            .then(res => this.setState({ orders: res }));\n        this.setState({\n            mode: \"menu\"\n        })\n    }\n\n    forceUpdate(callBack) {\n    }\n\n    render(){\n        if(this.state.socket !== null){\n            this.state.socket.on('user connection', (usr) => this.setState({\n                nConnectedUser: usr,\n            }));\n            console.log(this.state.nConnectedUser);\n        }\n        let myOrder = this.state.orders.map((item, idx) => {\n            return [item, idx];\n        }).filter((item) => {\n            return item[0]>0;\n        });\n\n        let completeOrder = this.state.completeOrders.map((item, idx) => {\n            return [item, idx];\n        }).filter((item) => {\n            return item[0]>0;\n        });\n        if(this.state.mode === \"menu\"){\n            return (\n                <div className=\"AppMainContent\">\n                    <button id=\"Send\" onClick={this.sendOrder}>OK</button>\n                    {/*TODO: Add sections of the menu*/}\n                    {this.state.items.map((item, idx) => {\n                        return <MenuItem name={item.name} ingredients={item.ingredients.concat()} count={item.count} img={item.img} code={item.code} order={this.updateOrder.bind(this)} selected={this.state.orders[idx+1]}/>\n                    })}\n                    <OrderBar selectedItems={myOrder} menu={this.state.items} complete={completeOrder} byUser={this.state.orderByUser}/>\n                    {/*<MyOrder selectedItems={myOrder} menu={this.state.items}/>*/}\n                </div>\n            )\n        }else if(this.state.mode === \"login\"){\n            return (\n                <div className=\"Login\">\n                    <input className=\"LoginInput\" id=\"restaurant\" type=\"text\" placeholder={\"Ristorante\"} onChange={this.setRestaurant} onKeyDown={this.tryLogin}/>\n                    <input className=\"LoginInput\" id=\"table\" type=\"text\" placeholder={\"Tavolo\"} onChange={this.setTable} onKeyDown={this.tryLogin}/>\n                    <input className=\"LoginInput\" id=\"name\" type=\"text\" placeholder={\"Nome\"} onChange={this.setUserName} onKeyDown={this.tryLogin}/>\n                    <button id=\"loginButton\" onClick={this.login}>OK</button>\n                    <div>{this.state.nConnectedUser}</div>\n                </div>\n\n            )\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}